Summary: StreamDeck Control Daemon
Name: streamdeckd
Version: @VERSION@
Release: 2
URL: https://github.com/drepper/streamdeckd
Source: https://github.com/drepper/streamdeckd/archive/streamdeckd-@VERSION@.tar.xz
License: GPLv2

%define sharedir %{_datadir}/streamdeckd-@VERSION@

Requires: libstdc++
BuildRequires: streamdeckpp-devel >= 1.5-1
BuildRequires: keylightpp-devel
BuildRequires: libconfig-devel
BuildRequires: cpprest-devel
BuildRequires: openssl-devel
BuildRequires: libxdo-devel
BuildRequires: libwebsockets-devel
BuildRequires: jsoncpp-devel
BuildRequires: libuuid-devel
BuildRequires: freetype-devel
BuildRequires: fontconfig-devel
BuildRequires: ImageMagick-c++-devel
BuildRequires: gcc-c++ >= 10.1

%description

This daemon allows the use of a StreamDeck to control a configurable set
of actions.

%prep
%setup -q

%build
make OPTS="${RPM_OPT_FLAGS}"

%install
rm -rf ${RPM_BUILD_ROOT}
mkdir -p ${RPM_BUILD_ROOT}%{_prefix}

%make_install

%files
%defattr(-,root,root)
%doc README.md
%{_bindir}/streamdeckd
%{sharedir}
%{sharedir}/*
%{_datadir}/applications/streamdeckd.desktop
%{_datadir}/icons/hicolor/scalable/apps/streamdeckd.svg

%changelog
* Sun Feb 14 2021 Ulrich Drepper <drepper@gmail.com> 1.7-2
- Label keys based on OBS scene and transition names
- Add record/stream keys
* Thu Feb 4 2021 Ulrich Drepper <drepper@gmail.com> 1.3-1
  Update to 1.3 with better OBS WS support.
* Sun Jan 10 2021 Ulrich Drepper <drepper@gmail.com> 1.1-1
* Tue Sep 15 2020 Ulrich Drepper <drepper@gmail.com> 1.0-2
- Add .desktop file and icon
* Tue Sep 8 2020 Ulrich Drepper <drepper@gmail.com> 1.0-1
- First release
